import{_ as p,c as n,a as s,b as h,t as a,F as _,r as v,e as y,w as f,o as r}from"./index-NQurLmcl.js";const g={name:"FilterView",data(){return{players:[],loading:!1,selectedPosition:"all",showModal:!1,selectedPlayer:null,POSITION_MAPPING:{all:"all",base:"Guard",escolta:"Forward-Guard",alero:"Forward","ala-pivot":"Forward-Center",pivot:"Center"},POSITION_NAMES:{all:"Todos",base:"Base",escolta:"Escolta",alero:"Alero","ala-pivot":"Ala-Pívot",pivot:"Pívot"}}},mounted(){this.loadPlayers()},methods:{async selectPosition(o){this.selectedPosition=o,await this.loadPlayers()},async loadPlayers(){this.loading=!0;try{const o=this.POSITION_MAPPING[this.selectedPosition];let e;o==="all"?e="https://basket-api-1cge.onrender.com/api/players":e=`https://basket-api-1cge.onrender.com/api/players/position/${o.toLowerCase()}`;const c=await(await fetch(e)).json();this.players=Array.isArray(c)?c:[c]}catch(o){console.error("Error loading players:",o),this.players=[]}finally{this.loading=!1}},openPlayerModal(o){this.selectedPlayer=o,this.showModal=!0,document.body.style.overflow="hidden"},closeModal(){this.showModal=!1,this.selectedPlayer=null,document.body.style.overflow="auto"},scrollLeft(){this.$refs.timelineScroll.scrollBy({left:-300,behavior:"smooth"})},scrollRight(){this.$refs.timelineScroll.scrollBy({left:300,behavior:"smooth"})},handleImageError(o){o.target.src="https://placehold.co/250x300"}}},P={class:"container-fluid"},b={class:"filter-header"},w={class:"title text-white"},k={class:"position-filters"},M=["onClick"],C={key:0,class:"loading"},I={key:1,class:"timeline-container"},E={class:"timeline-scroll",ref:"timelineScroll"},N={class:"timeline-track"},S=["onClick"],L={class:"player-card"},B={class:"card-image"},A=["src","alt"],O={class:"card-content"},x={class:"player-name"},F={class:"player-number"},T={class:"player-position"},z={class:"player-stats"},G={class:"player-team"},j={key:0,class:"timeline-connector"},R={class:"timeline-controls"},V={key:2,class:"no-results"},q={key:0,class:"modal-body"},D={class:"modal-image"},H=["src","alt"],J={class:"modal-info"},K={class:"player-details"},Q={class:"detail-item"},U={class:"value"},W={class:"detail-item"},X={class:"value"},Y={class:"detail-item"},Z={class:"value"},$={class:"detail-item"},ss={class:"value"},es={class:"detail-item"},ls={class:"value"};function ts(o,e,u,c,t,i){return r(),n("div",P,[s("div",b,[s("h1",w,a(o.$t("navbar.filter")),1),s("div",k,[(r(!0),n(_,null,v(t.POSITION_NAMES,(l,d)=>(r(),n("button",{key:d,onClick:m=>i.selectPosition(d),class:y(["filter-btn",{active:t.selectedPosition===d}])},a(l),11,M))),128))])]),t.loading?(r(),n("div",C,e[7]||(e[7]=[s("div",{class:"spinner"},null,-1),s("p",null,"Cargando jugadores...",-1)]))):t.players.length>0?(r(),n("div",I,[s("div",E,[s("div",N,[(r(!0),n(_,null,v(t.players,(l,d)=>(r(),n("div",{key:l.id,class:"timeline-item",onClick:m=>i.openPlayerModal(l)},[s("div",L,[s("div",B,[s("img",{src:l.imgSrc,alt:l.name,onError:e[0]||(e[0]=(...m)=>i.handleImageError&&i.handleImageError(...m))},null,40,A)]),s("div",O,[s("h3",x,a(l.name),1),s("p",F,a(l.number),1),s("p",T,a(l.position),1),s("p",z,a(l.stats),1),s("p",G,a(l.teamName),1)])]),d<t.players.length-1?(r(),n("div",j)):h("",!0)],8,S))),128))])],512),s("div",R,[s("button",{onClick:e[1]||(e[1]=(...l)=>i.scrollLeft&&i.scrollLeft(...l)),class:"control-btn"},e[8]||(e[8]=[s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})],-1)])),s("button",{onClick:e[2]||(e[2]=(...l)=>i.scrollRight&&i.scrollRight(...l)),class:"control-btn"},e[9]||(e[9]=[s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})],-1)]))])])):(r(),n("div",V,e[10]||(e[10]=[s("p",null,"No se encontraron jugadores para esta posición",-1)]))),t.showModal?(r(),n("div",{key:3,class:"modal-overlay",onClick:e[6]||(e[6]=(...l)=>i.closeModal&&i.closeModal(...l))},[s("div",{class:"modal-content",onClick:e[5]||(e[5]=f(()=>{},["stop"]))},[s("button",{class:"modal-close",onClick:e[3]||(e[3]=(...l)=>i.closeModal&&i.closeModal(...l))},e[11]||(e[11]=[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])),t.selectedPlayer?(r(),n("div",q,[s("div",D,[s("img",{src:t.selectedPlayer.imgSrc,alt:t.selectedPlayer.name,onError:e[4]||(e[4]=(...l)=>i.handleImageError&&i.handleImageError(...l))},null,40,H)]),s("div",J,[s("h2",null,a(t.selectedPlayer.name),1),s("div",K,[s("div",Q,[e[12]||(e[12]=s("span",{class:"label"},"Número:",-1)),s("span",U,a(t.selectedPlayer.number),1)]),s("div",W,[e[13]||(e[13]=s("span",{class:"label"},"Posición:",-1)),s("span",X,a(t.selectedPlayer.position),1)]),s("div",Y,[e[14]||(e[14]=s("span",{class:"label"},"Estadísticas:",-1)),s("span",Z,a(t.selectedPlayer.stats),1)]),s("div",$,[e[15]||(e[15]=s("span",{class:"label"},"Equipo:",-1)),s("span",ss,a(t.selectedPlayer.teamName),1)]),s("div",es,[e[16]||(e[16]=s("span",{class:"label"},"Información:",-1)),s("span",ls,a(t.selectedPlayer.info),1)])])])])):h("",!0)])])):h("",!0)])}const is=p(g,[["render",ts],["__scopeId","data-v-4c86f2ff"]]);export{is as default};
